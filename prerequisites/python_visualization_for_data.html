
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visualization of different data types with python &#8212; MRI analysis in Python using Nipype, Nilearn and more</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/nipy_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">MRI analysis in Python using Nipype, Nilearn and more</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Welcome!
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../overview.html">
   Workshop overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../setup.html">
   Setup for the workshop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../outline.html">
   Outline
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../data_nipype.html">
   Basics in data handling &amp; Nipype
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_nipype/image_manipulation_nibabel.html">
     Using Python for neuroimaging data - NiBabel
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_nipype/image_manipulation_nilearn.html">
     Using Python for neuroimaging data - Nilearn
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../advanced.html">
   Advanced and specialized analyses
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/pybids.html">
     Introduction to
     <code class="docutils literal notranslate">
      <span class="pre">
       pybids
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/statistical_analyses_MRI.html">
     Nilearn GLM: statistical analyses of MRI in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/functional_connectivity.html">
     Functional connectivity and resting state
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/machine_learning_preparation.html">
     Preparation Machine Learning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/machine_learning_nilearn.html">
     MVPA and Searchlight with
     <code class="docutils literal notranslate">
      <span class="pre">
       nilearn
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/machine_learning_keras.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       TensorFlow
      </span>
     </code>
     /
     <code class="docutils literal notranslate">
      <span class="pre">
       Keras
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/Predicting_age_with_machine_learning.html">
     Machine learning to predict age from rs-fmri
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../break.html">
   Yoga and/or dance break
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../CoC.html">
   Code of Conduct
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/prerequisites/python_visualization_for_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/PeerHerholz/workshop_weizmann"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/PeerHerholz/workshop_weizmann/issues/new?title=Issue%20on%20page%20%2Fprerequisites/python_visualization_for_data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/PeerHerholz/workshop_weizmann/edit/master/lecture/prerequisites/python_visualization_for_data.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/PeerHerholz/workshop_weizmann/master?urlpath=tree/lecture/prerequisites/python_visualization_for_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#univariate-visualization">
   Univariate visualization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bivariate-visualization-linear-x-linear">
   Bivariate visualization: Linear x Linear
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bivariate-visualization-linear-x-categorical">
   Bivariate visualization: Linear x Categorical
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bivariate-visualization-categorical-x-categorical">
   Bivariate visualization: Categorical x Categorical
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#style-points">
   Style points
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recommended-reading">
     Recommended reading:
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="visualization-of-different-data-types-with-python">
<h1>Visualization of different data types with python<a class="headerlink" href="#visualization-of-different-data-types-with-python" title="Permalink to this headline">¶</a></h1>
<p>Here, will learn some of the most basic <code class="docutils literal notranslate"><span class="pre">plotting</span></code> functionalities with <code class="docutils literal notranslate"><span class="pre">Python</span></code>, to give you the tools you need to assess basic distributions and relationships within you dataset. We will focus on the <a class="reference external" href="https://seaborn.pydata.org/index.html">Seaborn library</a>, which is designed to make nice looking <code class="docutils literal notranslate"><span class="pre">plots</span></code> quickly and (mostly) intuitively.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<p>Let’s first gather our dataset. We’ll use participant related information from the <a class="reference external" href="https://openneuro.org/datasets/ds000228/versions/1.0.0">OpenNeuro dataset ds000228 “MRI data of 3-12 year old children and adults during viewing of a short animated film”</a> .</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">bash</span>
wget -O data/participants.tsv https://openneuro.org/crn/datasets/ds000228/snapshots/1.0.0/files/participants.tsv
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pheno_file</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;data/participants.tsv&#39;</span><span class="p">)</span>

<span class="n">pheno</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">pheno_file</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">pheno</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>participant_id</th>
      <th>Age</th>
      <th>AgeGroup</th>
      <th>Child_Adult</th>
      <th>Gender</th>
      <th>Handedness</th>
      <th>ToM Booklet-Matched</th>
      <th>ToM Booklet-Matched-NOFB</th>
      <th>FB_Composite</th>
      <th>FB_Group</th>
      <th>WPPSI BD raw</th>
      <th>WPPSI BD scaled</th>
      <th>KBIT_raw</th>
      <th>KBIT_standard</th>
      <th>DCCS Summary</th>
      <th>Scanlog: Scanner</th>
      <th>Scanlog: Coil</th>
      <th>Scanlog: Voxel slize</th>
      <th>Scanlog: Slice Gap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sub-pixar001</td>
      <td>4.774812</td>
      <td>4yo</td>
      <td>child</td>
      <td>M</td>
      <td>R</td>
      <td>0.80</td>
      <td>0.736842</td>
      <td>6.0</td>
      <td>pass</td>
      <td>22.0</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>3T1</td>
      <td>7-8yo 32ch</td>
      <td>3mm iso</td>
      <td>0.1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sub-pixar002</td>
      <td>4.856947</td>
      <td>4yo</td>
      <td>child</td>
      <td>F</td>
      <td>R</td>
      <td>0.72</td>
      <td>0.736842</td>
      <td>4.0</td>
      <td>inc</td>
      <td>18.0</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>3T1</td>
      <td>7-8yo 32ch</td>
      <td>3mm iso</td>
      <td>0.1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sub-pixar003</td>
      <td>4.153320</td>
      <td>4yo</td>
      <td>child</td>
      <td>F</td>
      <td>R</td>
      <td>0.44</td>
      <td>0.421053</td>
      <td>3.0</td>
      <td>inc</td>
      <td>15.0</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>3T1</td>
      <td>7-8yo 32ch</td>
      <td>3mm iso</td>
      <td>0.1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sub-pixar004</td>
      <td>4.473648</td>
      <td>4yo</td>
      <td>child</td>
      <td>F</td>
      <td>R</td>
      <td>0.64</td>
      <td>0.736842</td>
      <td>2.0</td>
      <td>fail</td>
      <td>17.0</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>3T1</td>
      <td>7-8yo 32ch</td>
      <td>3mm iso</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sub-pixar005</td>
      <td>4.837782</td>
      <td>4yo</td>
      <td>child</td>
      <td>F</td>
      <td>R</td>
      <td>0.60</td>
      <td>0.578947</td>
      <td>4.0</td>
      <td>inc</td>
      <td>13.0</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>3T1</td>
      <td>7-8yo 32ch</td>
      <td>3mm iso</td>
      <td>0.2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>What are our different variables?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pheno</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;participant_id&#39;, &#39;Age&#39;, &#39;AgeGroup&#39;, &#39;Child_Adult&#39;, &#39;Gender&#39;,
       &#39;Handedness&#39;, &#39;ToM Booklet-Matched&#39;, &#39;ToM Booklet-Matched-NOFB&#39;,
       &#39;FB_Composite&#39;, &#39;FB_Group&#39;, &#39;WPPSI BD raw&#39;, &#39;WPPSI BD scaled&#39;,
       &#39;KBIT_raw&#39;, &#39;KBIT_standard&#39;, &#39;DCCS Summary&#39;, &#39;Scanlog: Scanner&#39;,
       &#39;Scanlog: Coil&#39;, &#39;Scanlog: Voxel slize&#39;, &#39;Scanlog: Slice Gap&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="section" id="univariate-visualization">
<h2>Univariate visualization<a class="headerlink" href="#univariate-visualization" title="Permalink to this headline">¶</a></h2>
<p>Let’s start by having a quick look at the <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">statistics</span></code> and <code class="docutils literal notranslate"><span class="pre">distribution</span></code> of <code class="docutils literal notranslate"><span class="pre">Age</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    155.000000
mean      10.555189
std        8.071957
min        3.518138
25%        5.300000
50%        7.680000
75%       10.975000
max       39.000000
Name: Age, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># simple histogram with seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span>
            <span class="c1">#bins=30,          # increase &quot;resolution&quot;</span>
            <span class="c1">#color=&#39;red&#39;,    # change color</span>
            <span class="c1">#kde=False,        # get rid of KDE (y axis=N)</span>
            <span class="c1">#rug=True,         # add &quot;rug&quot;</span>
            <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x22c3ff70d68&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_10_1.png" src="../_images/python_visualization_for_data_10_1.png" />
</div>
</div>
<p>What kind of distribution do we have here?</p>
<p>Let’s try log normalization as a solution. Here’s one way to do that:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">log_age</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">])</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">log_age</span><span class="p">,</span>
            <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>          
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>    
            <span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>         
            <span class="n">rug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>          
            <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\program files\python36\lib\site-packages\seaborn\distributions.py:2557: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
c:\program files\python36\lib\site-packages\seaborn\distributions.py:2056: FutureWarning: The `axis` variable is no longer used and will be removed. Instead, assign variables directly to `x` or `y`.
  warnings.warn(msg, FutureWarning)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c41192d30&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_12_2.png" src="../_images/python_visualization_for_data_12_2.png" />
</div>
</div>
<p>There is another approach for log-transforming that is perhaps better practice, and generalizable to <em>nearly any</em> type of transformation. With <a class="reference external" href="https://scikit-learn.org/stable/index.html">sklearn</a>, you can great a custom transformation object, which can be applied to different datasets.</p>
<p><em>Advantages</em> :</p>
<ul class="simple">
<li><p>Can be easily reversed at any time</p></li>
<li><p>Perfect for basing transformation off one dataset and applying it to a different dataset</p></li>
</ul>
<p><em>Distadvantages</em> :</p>
<ul class="simple">
<li><p>Expects 2D data (but that’s okay)</p></li>
<li><p>More lines of code :(</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">FunctionTransformer</span>

<span class="n">log_transformer</span> <span class="o">=</span> <span class="n">FunctionTransformer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">age2d</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">log_transformer</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">age2d</span><span class="p">)</span>

<span class="n">sk_log_Age</span> <span class="o">=</span> <span class="n">log_transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">age2d</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Are two log transformed datasets are equal?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">all</span><span class="p">(</span><span class="n">sk_log_Age</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">log_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>And we can easily reverse this normalization to return to the original values for age.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reverted_age</span> <span class="o">=</span> <span class="n">log_transformer</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">age2d</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The inverse transform should be the same as our original values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">all</span><span class="p">(</span><span class="n">reverted_age</span> <span class="o">==</span> <span class="n">age2d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Another strategy would be <code class="docutils literal notranslate"><span class="pre">categorization</span></code>. Two type of <code class="docutils literal notranslate"><span class="pre">categorization</span></code> have already been done for us in this dataset. We can visualize this with <code class="docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">value_counts()</span></code> or with <code class="docutils literal notranslate"><span class="pre">seaborn</span> <span class="pre">countplot()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Value counts of AgeGroup</span>
<span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5yo       34
8-12yo    34
Adult     33
7yo       23
3yo       17
4yo       14
Name: AgeGroup, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Countplot of Child_Adult</span>

<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Child_Adult&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\program files\python36\lib\site-packages\seaborn\_decorators.py:43: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  FutureWarning
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c41c0db00&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_23_2.png" src="../_images/python_visualization_for_data_23_2.png" />
</div>
</div>
</div>
<div class="section" id="bivariate-visualization-linear-x-linear">
<h2>Bivariate visualization: Linear x Linear<a class="headerlink" href="#bivariate-visualization-linear-x-linear" title="Permalink to this headline">¶</a></h2>
<p>Cool! Now let’s play around a bit with <code class="docutils literal notranslate"><span class="pre">bivariate</span> <span class="pre">visualization</span></code>.</p>
<p>For example, we could look at the association between <code class="docutils literal notranslate"><span class="pre">age</span></code> and a cognitive phenotype like <code class="docutils literal notranslate"><span class="pre">Theory</span> <span class="pre">of</span> <span class="pre">Mind</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;intelligence&quot;</span></code>. We can start with a <code class="docutils literal notranslate"><span class="pre">scatterplot</span></code>. A quick and easy <code class="docutils literal notranslate"><span class="pre">scatterplot</span></code> can be built with <code class="docutils literal notranslate"><span class="pre">regplot()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c40002320&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_26_1.png" src="../_images/python_visualization_for_data_26_1.png" />
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">regplot()</span></code> will automatically drop missing values (<code class="docutils literal notranslate"><span class="pre">pairwise</span></code>). There are also a number of handy and very quick arguments to change the nature of the plot:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Try uncommenting these lines (one at a time) to see how</span>
<span class="c1">## the plot changes.</span>

<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">],</span>
           <span class="n">order</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>        <span class="c1"># fit a quadratic curve</span>
           <span class="c1">#lowess=True,    # fit a lowess curve</span>
           <span class="c1">#fit_reg = False # no regression line</span>
           <span class="c1">#marker = &#39;&#39;     # no points</span>
           <span class="c1">#marker = &#39;x&#39;,   # xs instead of points</span>
           <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c435b1390&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_28_1.png" src="../_images/python_visualization_for_data_28_1.png" />
</div>
</div>
<p>Take a minute to try plotting another set of variables. Don’t forget – you may have to change the data type!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#sns.regplot(x=, y=)</span>
</pre></div>
</div>
</div>
</div>
<p>This would be as good a time as any to remind you that <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> is built on top of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. Any <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> object could be built from scratch from a <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> object. For example, <code class="docutils literal notranslate"><span class="pre">regplot()</span></code> is built on top of <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x22c424e6978&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_32_1.png" src="../_images/python_visualization_for_data_32_1.png" />
</div>
</div>
<p>If you want to get really funky/fancy, you can play around with <code class="docutils literal notranslate"><span class="pre">jointplot()</span></code> and change the <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code> argument.</p>
<p>However, note that <code class="docutils literal notranslate"><span class="pre">jointplot</span></code> is a different <code class="docutils literal notranslate"><span class="pre">type</span></code> of <code class="docutils literal notranslate"><span class="pre">object</span></code> and therefore follows different rules when it comes to editing. More on this later …</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span><span class="s1">&#39;hex&#39;</span><span class="p">]:</span> <span class="c1">#kde</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">],</span>
                  <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/python_visualization_for_data_34_0.png" src="../_images/python_visualization_for_data_34_0.png" />
<img alt="../_images/python_visualization_for_data_34_1.png" src="../_images/python_visualization_for_data_34_1.png" />
</div>
</div>
<p>That last one was a bit weird, eh? These <code class="docutils literal notranslate"><span class="pre">hexplots</span></code> are really built for larger sample sizes. Just to showcase this, let’s plot a <code class="docutils literal notranslate"><span class="pre">hexplot</span></code> 1000 samples of some <code class="docutils literal notranslate"><span class="pre">random</span> <span class="pre">data</span></code>. Observe how the <code class="docutils literal notranslate"><span class="pre">hexplot</span></code> deals with <code class="docutils literal notranslate"><span class="pre">density</span></code> in a way that the <code class="docutils literal notranslate"><span class="pre">scatterplot</span></code> cannot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">.5</span><span class="p">),</span> <span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;scatter&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.JointGrid at 0x22c45c34e80&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_36_1.png" src="../_images/python_visualization_for_data_36_1.png" />
<img alt="../_images/python_visualization_for_data_36_2.png" src="../_images/python_visualization_for_data_36_2.png" />
</div>
</div>
<p>More on dealing with “overplotting” here: <a class="reference external" href="https://python-graph-gallery.com/134-how-to-avoid-overplotting-with-python/">https://python-graph-gallery.com/134-how-to-avoid-overplotting-with-python/</a>.</p>
<p>However, note that <code class="docutils literal notranslate"><span class="pre">jointplot</span></code> is a different type of object and therefore follows different rules when it comes to editing. This is perhaps one of the biggest drawbacks of <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>.</p>
<p>For example, look at how the same change requires different syntax between <code class="docutils literal notranslate"><span class="pre">regplot</span></code> and <code class="docutils literal notranslate"><span class="pre">jointplot</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Participant Age&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Participant Age&#39;)
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_39_1.png" src="../_images/python_visualization_for_data_39_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">],</span>
                  <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">ax_joint</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Participant Age&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 32.99999999999995, &#39;Participant Age&#39;)
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_40_1.png" src="../_images/python_visualization_for_data_40_1.png" />
</div>
</div>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">lmplot()</span></code> is another nice <code class="docutils literal notranslate"><span class="pre">scatterplot</span></code> option for observing <code class="docutils literal notranslate"><span class="pre">multivariate</span> <span class="pre">interactions</span></code>.</p>
<p>However, <code class="docutils literal notranslate"><span class="pre">lmplot()</span></code> cannot simply take two <code class="docutils literal notranslate"><span class="pre">arrays</span></code> as input. Rather (much like <code class="docutils literal notranslate"><span class="pre">R</span></code>), you must pass <code class="docutils literal notranslate"><span class="pre">lmplot</span></code> some data (in the form of a <code class="docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">DataFrame</span></code> for example) and <code class="docutils literal notranslate"><span class="pre">variable</span></code> names. Luckily for us, we already have our data in a <code class="docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">DataFrame</span></code>, so this should be easy.</p>
<p>Let’s look at how the relationship between <code class="docutils literal notranslate"><span class="pre">Age</span></code> and <code class="docutils literal notranslate"><span class="pre">Theory</span> <span class="pre">of</span> <span class="pre">Mind</span></code> varies by <code class="docutils literal notranslate"><span class="pre">Gender</span></code>. We can do this using the <code class="docutils literal notranslate"><span class="pre">&quot;hue&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;col&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;row&quot;</span></code> arguments:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span> 
           <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x22c47126c88&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_42_1.png" src="../_images/python_visualization_for_data_42_1.png" />
</div>
</div>
<p>Unfortunately, these plots can be a bit sub-optimal at times. The <code class="docutils literal notranslate"><span class="pre">regplot</span></code> is perhaps more flexible. You can read more about this type of plotting here: <a class="reference external" href="https://seaborn.pydata.org/tutorial/distributions.html">https://seaborn.pydata.org/tutorial/distributions.html</a>.</p>
</div>
<div class="section" id="bivariate-visualization-linear-x-categorical">
<h2>Bivariate visualization: Linear x Categorical<a class="headerlink" href="#bivariate-visualization-linear-x-categorical" title="Permalink to this headline">¶</a></h2>
<p>Let’s take a quick look at how to look at <code class="docutils literal notranslate"><span class="pre">bivariate</span> <span class="pre">relationships</span></code> when one <code class="docutils literal notranslate"><span class="pre">variable</span></code> is <code class="docutils literal notranslate"><span class="pre">categorical</span></code> and the other is <code class="docutils literal notranslate"><span class="pre">scalar</span></code>.</p>
<p>For consistency can continue to look at the same relationship, but look at <code class="docutils literal notranslate"><span class="pre">&quot;AgeGroup&quot;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">age</span></code>.</p>
<p>There are many ways to visualize such relationships. While there are some advantages and disadvantes of each type of plot, much of the choice will come down to personal preference.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<p>Here are several ways of visualizing the same relationship. Note that adults to not have cognitive tests, so we won’t
include adults in any of these plots. Note also that we explicitly pass the order of x:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">order</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">.</span><span class="n">unique</span><span class="p">())[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">order</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;3yo&#39;, &#39;4yo&#39;, &#39;5yo&#39;, &#39;7yo&#39;, &#39;8-12yo&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">order</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">.</span><span class="n">unique</span><span class="p">())[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxenplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
            <span class="n">order</span> <span class="o">=</span> <span class="n">order</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/python_visualization_for_data_49_0.png" src="../_images/python_visualization_for_data_49_0.png" />
<img alt="../_images/python_visualization_for_data_49_1.png" src="../_images/python_visualization_for_data_49_1.png" />
<img alt="../_images/python_visualization_for_data_49_2.png" src="../_images/python_visualization_for_data_49_2.png" />
<img alt="../_images/python_visualization_for_data_49_3.png" src="../_images/python_visualization_for_data_49_3.png" />
<img alt="../_images/python_visualization_for_data_49_4.png" src="../_images/python_visualization_for_data_49_4.png" />
<img alt="../_images/python_visualization_for_data_49_5.png" src="../_images/python_visualization_for_data_49_5.png" />
</div>
</div>
<p>Generally, <code class="docutils literal notranslate"><span class="pre">lineplots</span></code> and <code class="docutils literal notranslate"><span class="pre">barplots</span></code> are frowned upon because they do not show the actual data, and therefore can mask troublesome distributions and outliers.</p>
<p>But perhaps you’re really into <code class="docutils literal notranslate"><span class="pre">barplots</span></code>? No problem! One nice thing about many <code class="docutils literal notranslate"><span class="pre">seaborn</span> <span class="pre">plots</span></code> is that they can be overlaid very easily. Just call two plots at once before doing <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> (or in this case, before running the cell). Just overlay a <code class="docutils literal notranslate"><span class="pre">stripplot</span></code> on top!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
            <span class="n">order</span> <span class="o">=</span> <span class="n">order</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
            <span class="n">jitter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">order</span> <span class="o">=</span> <span class="n">order</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c48644940&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_51_1.png" src="../_images/python_visualization_for_data_51_1.png" />
</div>
</div>
<p>You can find more info on these types of plots here: <a class="reference external" href="https://seaborn.pydata.org/tutorial/categorical.html">https://seaborn.pydata.org/tutorial/categorical.html</a>.</p>
<p>Having trouble deciding which type of plot you want to use? Checkout the raincloud plot, which combines multiple types of plots to achieve a highly empirical visualization.</p>
<p>Read more about it here:
<a class="reference external" href="https://wellcomeopenresearch.org/articles/4-63/v1?src=rss">https://wellcomeopenresearch.org/articles/4-63/v1?src=rss</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ptitprince</span> <span class="k">as</span> <span class="nn">pt</span>

<span class="n">dx</span> <span class="o">=</span> <span class="s2">&quot;AgeGroup&quot;</span><span class="p">;</span> <span class="n">dy</span> <span class="o">=</span> <span class="s2">&quot;ToM Booklet-Matched&quot;</span><span class="p">;</span> <span class="n">ort</span> <span class="o">=</span> <span class="s2">&quot;v&quot;</span><span class="p">;</span> <span class="n">pal</span> <span class="o">=</span> <span class="s2">&quot;Set2&quot;</span><span class="p">;</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">.2</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">pt</span><span class="o">.</span><span class="n">RainCloud</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">dx</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">dy</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span> <span class="n">palette</span> <span class="o">=</span> <span class="n">pal</span><span class="p">,</span> <span class="n">bw</span> <span class="o">=</span> <span class="n">sigma</span><span class="p">,</span>
                 <span class="n">width_viol</span> <span class="o">=</span> <span class="mf">.6</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">,</span> <span class="n">orient</span> <span class="o">=</span> <span class="n">ort</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c486b8a90&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_53_1.png" src="../_images/python_visualization_for_data_53_1.png" />
</div>
</div>
</div>
<div class="section" id="bivariate-visualization-categorical-x-categorical">
<h2>Bivariate visualization: Categorical x Categorical<a class="headerlink" href="#bivariate-visualization-categorical-x-categorical" title="Permalink to this headline">¶</a></h2>
<p>What if we want to observe the relationship between two <code class="docutils literal notranslate"><span class="pre">categorical</span> <span class="pre">variables</span></code>? Since we are usually just looking at <code class="docutils literal notranslate"><span class="pre">counts</span></code> or <code class="docutils literal notranslate"><span class="pre">percentages</span></code>, a simple <code class="docutils literal notranslate"><span class="pre">barplot</span></code> is fine in this case.</p>
<p>Let’s look at <code class="docutils literal notranslate"><span class="pre">AgeGroup</span></code> x <code class="docutils literal notranslate"><span class="pre">Gender</span></code>. <code class="docutils literal notranslate"><span class="pre">Pandas.crosstab</span></code> helps sort the data in an intuitive way.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pandas</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">],</span>
                <span class="n">columns</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">],)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Gender</th>
      <th>F</th>
      <th>M</th>
    </tr>
    <tr>
      <th>AgeGroup</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3yo</th>
      <td>10</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4yo</th>
      <td>8</td>
      <td>6</td>
    </tr>
    <tr>
      <th>5yo</th>
      <td>16</td>
      <td>18</td>
    </tr>
    <tr>
      <th>7yo</th>
      <td>11</td>
      <td>12</td>
    </tr>
    <tr>
      <th>8-12yo</th>
      <td>19</td>
      <td>15</td>
    </tr>
    <tr>
      <th>Adult</th>
      <td>20</td>
      <td>13</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can actually plot this directly from <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pandas</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">],</span>
                <span class="n">columns</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">],)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c4877f048&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_58_1.png" src="../_images/python_visualization_for_data_58_1.png" />
</div>
</div>
<p>The above plot gives us absolute <code class="docutils literal notranslate"><span class="pre">counts</span></code>. Perhaps we’d rather visualize differences in <code class="docutils literal notranslate"><span class="pre">proportion</span></code> across <code class="docutils literal notranslate"><span class="pre">age</span> <span class="pre">groups</span></code>. Unfortunately we must do this manually.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crosstab</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">],</span>
                <span class="n">columns</span><span class="o">=</span><span class="n">pheno</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">],)</span>

<span class="n">crosstab</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">/</span><span class="n">r</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c4882cd68&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_60_1.png" src="../_images/python_visualization_for_data_60_1.png" />
</div>
</div>
</div>
<div class="section" id="style-points">
<h2>Style points<a class="headerlink" href="#style-points" title="Permalink to this headline">¶</a></h2>
<p>You will be surprised to find out exactly how customizable your <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">plots</span></code> are. Its not so important when you’re first <code class="docutils literal notranslate"><span class="pre">exploring</span></code> your data, but <code class="docutils literal notranslate"><span class="pre">aesthetic</span> <span class="pre">value</span></code> can add a lot to <code class="docutils literal notranslate"><span class="pre">visualizations</span></code> you are communicating in the form of <code class="docutils literal notranslate"><span class="pre">manuscripts</span></code>, <code class="docutils literal notranslate"><span class="pre">posters</span></code> and <code class="docutils literal notranslate"><span class="pre">talks</span></code>.</p>
<p>Once you know the relationships you want to <code class="docutils literal notranslate"><span class="pre">plot</span></code>, spend time adjusting the <code class="docutils literal notranslate"><span class="pre">colors</span></code>, <code class="docutils literal notranslate"><span class="pre">layout</span></code>, and fine details of your <code class="docutils literal notranslate"><span class="pre">plot</span></code> to <code class="docutils literal notranslate"><span class="pre">maximize</span> <span class="pre">interpretability</span></code>, <code class="docutils literal notranslate"><span class="pre">transparency</span></code>, and if you can spare it, <code class="docutils literal notranslate"><span class="pre">beauty</span></code>!</p>
<p>You can easily edit <code class="docutils literal notranslate"><span class="pre">colors</span></code> using many <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">arguments</span></code>, often listed as <code class="docutils literal notranslate"><span class="pre">col</span></code>, <code class="docutils literal notranslate"><span class="pre">color</span></code>, or <code class="docutils literal notranslate"><span class="pre">palette</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## try uncommenting one of these lines at a time to see how the </span>
<span class="c1">## graph changes</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
            <span class="c1">#palette = &#39;Greens_d&#39;</span>
            <span class="c1">#palette = &#39;spectral&#39;,</span>
            <span class="c1">#color = &#39;black&#39;</span>
           <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c48b75c88&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_63_1.png" src="../_images/python_visualization_for_data_63_1.png" />
</div>
</div>
<p>You can find more about your palette choices here: <a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html">https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html</a>.</p>
<p>More about your color choices here:
<a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">https://matplotlib.org/3.1.0/gallery/color/named_colors.html</a>.</p>
<p>You can also easily change the style of the plots by setting <code class="docutils literal notranslate"><span class="pre">&quot;style&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;context&quot;</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;whitegrid&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
           <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c48c3a4a8&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_66_1.png" src="../_images/python_visualization_for_data_66_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;notebook&#39;</span><span class="p">,</span><span class="n">font_scale</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
           <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x22c48b80978&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_67_1.png" src="../_images/python_visualization_for_data_67_1.png" />
</div>
</div>
<p>Notice these changes do not reset after the <code class="docutils literal notranslate"><span class="pre">plot</span></code> is shown. To learn more about controlling <code class="docutils literal notranslate"><span class="pre">figure</span> <span class="pre">aesthetics</span></code>, as well as how to produce temporary style changes, visit here: <a class="reference external" href="https://seaborn.pydata.org/tutorial/aesthetics.html">https://seaborn.pydata.org/tutorial/aesthetics.html</a>.</p>
<p>Finally, remember that these <code class="docutils literal notranslate"><span class="pre">plots</span></code> are <code class="docutils literal notranslate"><span class="pre">extremely</span> <span class="pre">customizable</span></code>. Literally every aspect can be changed. Once you know the relationship you want to <code class="docutils literal notranslate"><span class="pre">plot</span></code>, don’t be afraid to spend a good chunk of time <code class="docutils literal notranslate"><span class="pre">tweaking</span></code> your <code class="docutils literal notranslate"><span class="pre">plot</span></code> to perfection:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set style</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;notebook&#39;</span><span class="p">,</span><span class="n">font_scale</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># set figure size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;AgeGroup&#39;</span><span class="p">,</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;ToM Booklet-Matched&#39;</span><span class="p">,</span>
            <span class="n">hue</span> <span class="o">=</span> <span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pheno</span><span class="p">[</span><span class="n">pheno</span><span class="o">.</span><span class="n">AgeGroup</span><span class="o">!=</span><span class="s1">&#39;Adult&#39;</span><span class="p">],</span>
           <span class="n">palette</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>

<span class="c1"># Change X axis</span>
<span class="n">new_xtics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Age 4&#39;</span><span class="p">,</span><span class="s1">&#39;Age 3&#39;</span><span class="p">,</span><span class="s1">&#39;Age 5&#39;</span><span class="p">,</span> <span class="s1">&#39;Age 7&#39;</span><span class="p">,</span> <span class="s1">&#39;Age 8-12&#39;</span><span class="p">]</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">new_xtics</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Age&#39;</span><span class="p">)</span>

<span class="c1"># Change Y axis</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Theory of Mind&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">.2</span><span class="p">,</span><span class="mf">.4</span><span class="p">,</span><span class="mf">.6</span><span class="p">,</span><span class="mf">.8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.2</span><span class="p">])</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.2</span><span class="p">)</span>

<span class="c1"># Title</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Age vs Theory of Mind&#39;</span><span class="p">)</span>

<span class="c1"># Add some text</span>
<span class="n">g</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="s1">&#39;F = large #&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span><span class="s1">&#39;p = small #&#39;</span><span class="p">)</span>

<span class="c1"># Add significance bars and asterisks</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> 
         <span class="p">[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">],</span> 
         <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mf">1.08</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>

<span class="c1"># Move figure legend outside of plot</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x22c4a1a7b70&gt;
</pre></div>
</div>
<img alt="../_images/python_visualization_for_data_70_1.png" src="../_images/python_visualization_for_data_70_1.png" />
</div>
</div>
<p>That’s all for now. There’s so much more to visualization, but this should at least get you started.</p>
<div class="section" id="recommended-reading">
<h3>Recommended reading:<a class="headerlink" href="#recommended-reading" title="Permalink to this headline">¶</a></h3>
<p>multidimensional plotting with seaborn: <a class="reference external" href="https://jovianlin.io/data-visualization-seaborn-part-3/">https://jovianlin.io/data-visualization-seaborn-part-3/</a></p>
<p>Great resource for complicated plots, creative ideas, and data!: <a class="reference external" href="https://python-graph-gallery.com/">https://python-graph-gallery.com/</a></p>
<p>A few don’ts of plotting: <a class="reference external" href="https://www.data-to-viz.com/caveats.html">https://www.data-to-viz.com/caveats.html</a></p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./prerequisites"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Peer Herholz<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>